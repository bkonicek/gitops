external-dns:
  provider: cloudflare
  policy: sync
  sources:
    - ingress
    - crd
  txtOwnerId: external-dns
  env:
    - name: CF_API_TOKEN
      valueFrom:
        secretKeyRef:
          name: cf-dns
          key: API_TOKEN
  extraArgs:
    - "--exclude-target-net=10.0.0.0/8"

  serviceMonitor:
    enabled: true
    additionalLabels:
      release: prometheus

# DNS zone
dnsZone: benkonicek.com

# Create DNSEndpoint resources
dnsEndpoints:
  # YAML map of DNSEndpoints to create
  blog:
    # DNS record type
    type: CNAME
    # List of targets to point the record to
    targets:
      - bkonicek.github.io
    # Enable proxying the record through cloudflare
    proxy: false
    # TTL for the record
    ttl: 180
