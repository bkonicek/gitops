kube-prometheus-stack:
  kubeEtcd:
    enabled: false
  kubeControllerManager:
    enabled: false
  kubeScheduler:
    enabled: false

  grafana:
    plugins:
      - oci-metrics-datasource
    datasources:
      datasources.yaml:
        apiVersion: 1
        datasources:
          - name: oci-metrics-datasource
            type: oci-metrics-datasource
            editable: true
            access: proxy
            jsonData:
              profile0: "DEFAULT"
              environment: "OCI Instance"
    dashboardProviders:
      dashboardproviders.yaml:
        apiVersion: 1
        providers:
          - name: "default"
            orgId: 1
            folder: ""
            type: file
            disableDeletion: false
            editable: true
            options:
              path: /var/lib/grafana/dashboards/default
    dashboards:
      default:
        argocd:
          url: https://raw.githubusercontent.com/argoproj/argo-cd/master/examples/dashboard.json
          token: ""
        ingress-nginx:
          url: https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/grafana/dashboards/nginx.json
          token: ""

  prometheus:
    prometheusSpec:
      serviceMonitorSelectorNilUsesHelmValues: false
